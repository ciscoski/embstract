/***********************************************************************************************************************
 * Copyright 2024 Francesco Cervellera
 *
 * SPDX-License-Identifier: Apache-2.0
 **********************************************************************************************************************/

/* Include Guard */
#ifndef LOG_STDLIB_H
#define LOG_STDLIB_H

/* C++ Support */
#if defined(__cplusplus)
extern "C"
{
#endif

/***********************************************************************************************************************
 * System Includes
 **********************************************************************************************************************/

#include <stdarg.h>
#include <stdint.h>

/***********************************************************************************************************************
 * Project Includes
 **********************************************************************************************************************/

#include "embs_log/levels.h"

/***********************************************************************************************************************
 * Types
 **********************************************************************************************************************/

/***********************************************************************************************************************
 * Function declarations
 **********************************************************************************************************************/

void embs_log_stdlib(embs_log_level_t level, uint32_t flags, const char *const module_name, const char *const file_name,
                     int line_number, const char *const function_name, const char *const message, ...);

/***********************************************************************************************************************
 * Macros
 **********************************************************************************************************************/

#define EMBS_LOG_HANDLE_LOG(level, module, flags, ...)                                                                 \
    do                                                                                                                 \
    {                                                                                                                  \
        embs_log_stdlib((level), (flags), module, __FILE__, __LINE__, __func__, __VA_ARGS__);                          \
    } while (0)

/* C++ Support */
#if defined(__cplusplus)
}
#endif

/* Include Guard */
#endif
